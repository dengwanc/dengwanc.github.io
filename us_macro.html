<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>US Macro Environment</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <style>
        hr {margin: 0;}
    </style>
</head>

<body style="padding:5px 6%">
    <!-- BDI 指数 -->
    <div id="INDEX:BDI" style="height:320px"></div>
    <!-- 商品指数 -->
    <!-- <iframe src="https://tvc-invdn-com.akamaized.net/web/1.12.27/index60-prod.html?carrier=4984550eb05facb0a77eca6df21f1939&time=1607228255&domain_ID=1&lang_ID=1&timezone_ID=8&version=1.12.27&locale=en&timezone=America/New_York&pair_ID=39972&interval=W&session=session&prefix=www&suffix=&client=1&user=214259789&family_prefix=tvc4&init_page=instrument&sock_srv=https://stream93.forexpros.com:443&m_pids=&watchlist=&geoc=KR" style="height:420px;width:100%;border:0"></iframe> -->
    <!-- 失业数据 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=xkfc&width=100%&height=475" scrolling="no" frameborder="0"style="overflow:hidden;width:100%; height:460px;" allowTransparency="true" loading="lazy"></iframe>

    <!-- 经济活动指数 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=wrls&width=100%&height=310" scrolling="no" frameborder="0"style="height:300px;width:100%" allowTransparency="true" loading="lazy"></iframe>
    
    <!-- 铜库存 -->
    <div class="pure-g">
        <div class="pure-u-1-1" id="COMEX:HG1!" style="height:300px;"></div>
    </div>

    <!-- 石油库存 https://www.eia.gov/opendata/embed.php?geoset_id=&type=chart&relation_mode=line&series_id=PET.RWTC.W%3BPET.WCRFPUS2.W%3BPET.WCESTUS1.W%3B&date_mode=periods&start=&end=&periods=10A -->
    <iframe id="eia_widget" style="width:99.8%;height:500px;border:1px solid #dedede" src="https://www.eia.gov/opendata/embed/iframe.php?series_id=PET.RWTC.W;PET.WCRFPUS2.W;PET.WCESTUS1.W;&periods=6A" load="iframe_load"></iframe>

    <!-- 美联储持仓 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=xkih&width=100%&height=410" scrolling="no" frameborder="0"style="height:400px;width:100%" allowTransparency="true" loading="lazy"></iframe>

    <!-- 美国国债利差 -->
    <!-- <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=wrCj&width=100%&height=410" scrolling="no" frameborder="0"style="height:400px;width:100%" allowTransparency="true" loading="lazy"></iframe> -->
</body>
    
<script type="text/javascript">
const symbols = [
    {
        sym: "INDEX:BDI",
        range: "360M",
        use_log: true,
        interval: "W",
    },
    {
        sym: "COMEX:HG1!",
        range: "250M",
        interval: "W"
    },
];

for (sym of symbols) {
    createChart(sym);
}

function createChart(symobj) {
    const sym = symobj.sym;
    const use_log = symobj.use_log;
    const defalut = {
        "container_id": sym,
        "autosize": true,
        "symbol": sym,
        "interval": "D",
        "style": "2",
        // https://github.com/serdimoa/charting/wiki/Widget-Constructor
        "overrides": {"mainSeriesProperties.priceAxisProperties.log": use_log},
        "range": "ALL",
        "hide_top_toolbar": true,
        "theme": "light",
    }
    const options = Object.assign(defalut, symobj)
    return new TradingView.widget(options);
}
</script>
</html>

