<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>US Macro Dashboard</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <style>
        iframe {
            border: 1px solid #dedede; 
            float: left;
        }
        .half {
            float:left;
            border: 1px solid #dedede;
            width:49.84%;
            height:400px;
        }
        .small {
            float: left;
            display:block;
            margin:auto;
            width:49.84%;
        }
        .edge {
            border: 1px solid #dedede;
        }
    </style>
</head>

<body style="padding:5px 3%">
    <!-- 金融危机预警 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=IzDT&width=100%&height=450" scrolling="no" frameborder="0" style="width:49.84%; height:400px;" allowTransparency="true" loading="lazy"></iframe>
    <iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&time=2020-03-01..latest&pickerSort=desc&pickerMetric=new_cases_smoothed&hideControls=true&Metric=Confirmed+cases&Interval=7-day+rolling+average&Relative+to+Population=false&Align+outbreaks=false&country=IND~USA~Europe~OWID_WRL" loading="lazy" style="width: 50%; height: 405px; border: 0px none;"></iframe>
    
    <!-- 运输成本 -->
    <iframe width="49.84%" height="450" src="https://app.koyfin.com/share/3a5b2b9667/simple"></iframe>
    <!-- 中国出口集装箱运价综合指数 -->
    <div style="float:left;border: 1px solid #dedede;width:49.84%;height:450px;">
        <img src="https://www.sse.net.cn/index/indexImg?name=ccfi&type=query" style="display:block;margin:100px auto;width: 100%;"/>
    </div>

    <!-- 上游成本 -->
    
    <!-- 铜基本面 HGmain FCX XME RIO -->
    <iframe width="49.84%" height="400" src="https://app.koyfin.com/share/ca87577a60/simple"></iframe>
    <div class="half" id="copper">
        <img class="small" src="http://www.kitconet.com/charts/metals/base/lme-warehouse-copper-5y-Large.gif">
        <img class="small" src="http://www.kitconet.com/charts/metals/base/lme-warehouse-copper-60d-Large.gif">
        <img class="small" style="visibility: hidden;" src="http://www.kitconet.com/charts/metals/base/lme-warehouse-copper-60d-Large.gif">
        <img class="small" src="http://www.kitconet.com/charts/metals/base/nymex-warehouse-copper-60d-Large.gif">
    </div>

    <!-- 原油基本面 -->
    <!-- 库存 https://www.eia.gov/dnav/pet/hist/LeafHandler.ashx?n=PET&s=WCESTUS1&f=w -->
    <!-- 产量 https://www.eia.gov/dnav/pet/hist/LeafHandler.ashx?n=PET&s=WCRFPUS2&f=w -->
    <!-- https://visualizedanalytics.com/markets/commodities/analytics/BZ#supply-demand-and-balance-of-the-world-oil-market -->
    <!-- https://www.eia.gov/opendata/qb.php?category=235081 -->
    <!-- <iframe id="eia_widget" style="width:49.84%;height:400px;border:1px solid #dedede" src="https://www.eia.gov/opendata/embed/iframe.php?series_id=PET.RWTC.W;PET.WCRFPUS2.W;PET.WCESTUS1.W;&periods=6A" load="iframe_load"></iframe> -->

    <div style="float: left;height: 450px;width: 49.84%;border:1px solid #dedede">
    <iframe id="eia_widget" style="width:100%;height:400px;border:0" src="https://www.eia.gov/opendata/embed/iframe.php?series_id=PET.RWTC.W;PET.WCRFPUS2.W;PET.WCESTUS1.W;&periods=6A" load="iframe_load"></iframe>
    <a href="https://www.eia.gov/dnav/pet/hist/LeafHandler.ashx?n=PET&s=WCESTUS1&f=w">Weekly U.S. Ending Stocks excluding SPR of Crude Oil (Thousand Barrels)</a>
    <br/>
    <a href="https://www.eia.gov/dnav/pet/hist/LeafHandler.ashx?n=PET&s=WCRFPUS2&f=w">Weekly U.S. Field Production of Crude Oil (Thousand Barrels per Day)</a>
    </div>
    
    <div id="NYMEX:CL1!-NYMEX:RB1!" style="height:300px; width:49.84%; float:left"></div>
    <div id="NYMEX:CL1!-NYMEX:CL2!" style="height:152px; width:49.84%; float:left"></div>

    <!-- 高频宏观数据 -->
    <!-- 贪婪指数 -->
    <div style="float:left;border: 1px solid #dedede;width:49.84%;height:450px;">
        <img src="http://markets.money.cnn.com/Marketsdata/Api/Chart/FearGreedHistoricalImage?chartType=AvgPtileModel" style="display:block;margin:80px auto;width: 90%;"/>
    </div>
    <!-- <iframe width="49.84%" height="420" src="https://app.koyfin.com/share/8089daed36/simple"></iframe> -->
    <!-- <iframe src="https://ourworldindata.org/grapher/share-people-vaccinated-covid?tab=chart&time=latest" loading="lazy" style="width: 49.84%; height: 420px; border: 0px none;"></iframe> -->
    <!-- 资产景气度 -->
    <iframe width="49.8%" height="450" src="https://app.koyfin.com/share/c9fb70a204/simple"></iframe>
    
    <!-- 就业数据 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=GXjl&width=49.84%&height=400" scrolling="no" frameborder="0" style="overflow:hidden;width:49.84%; height:390px;" allowTransparency="true" loading="lazy"></iframe>

    <!-- 美联储QE -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=Ew5G&width=49.84%&height=400" scrolling="no" frameborder="0"style="height:390px;width:49.84%" allowTransparency="true" loading="lazy"></iframe>
    <!-- 消费零售基本面 -->
    <!-- <iframe width="49.84%" height="390" src="https://app.koyfin.com/share/63f81f84c6/simple"></iframe> -->
    <iframe width="49.84%" height="390" src='https://d3fy651gv2fhd3.cloudfront.net/embed/?s=unitedstaredind&v=202111021255V20200908&d1=20161106&title=false&url2=/united-states/manufacturing-pmi&h=500&w=1000' frameborder='0' scrolling='no'></iframe>

    <!-- 经济活动指数 -->
    <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=EZEy&width=49.84%&height=400" scrolling="no" frameborder="0"style="height:390px;width:49.84%" allowTransparency="true" loading="lazy"></iframe>

    <!-- 黄金基本面 -->
    <iframe width="49.84%" height="370" src="https://app.koyfin.com/share/a1add9d482/simple"></iframe>
    <!-- https://zhuanlan.zhihu.com/p/73260708 -->
    <!-- <iframe src="https://fred.stlouisfed.org/graph/graph-landing.php?g=FQYf&width=49.84%&height=285" scrolling="no" frameborder="0"style="height:275px;width:49.84%" allowTransparency="true" loading="lazy"></iframe> -->
    <iframe width="49.8%" height="370" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/1592.embed?showlink=false" style="border: 1px solid #dedede;"></iframe>

    <!-- 制造业基本面 -->
    <!-- <iframe width="49.84%" height="470" src="https://app.koyfin.com/share/d52eb60f76/simple"></iframe> -->

    <!-- 资产轮动:债券, 金属, 科技, 金融, 小盘 -->
    <!-- <iframe width="49.8%" height="470" src="https://app.koyfin.com/share/89f56fe5aa/simple"></iframe> -->

    <!-- 主要走势观察 -->
    <!-- <iframe width="100%" height="290" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/3270.embed?showlink=false"></iframe> -->
</body>
    
<script type="text/javascript">
const symbols = [
    {
        sym: "NYMEX:CL1!-NYMEX:RB1!",
        range: "100M",
        interval: "W",
    },
    {
        sym: "NYMEX:CL1!-NYMEX:CL2!",
        range: "100M",
        interval: "W",
        use_log: true,
    },
    // {
    //     sym: "INDEX:BDI",
    //     range: "165M",
    //     use_log: true,
    //     interval: "W",
    // },
    // {
    //     sym: "601919",
    //     range: "165M",
    //     use_log: true,
    //     interval: "W",
    // },
    // {
    //     sym: "BINANCE:BTCUSDT",
    //     range: "12M",
    //     use_log: true,
    //     interval: "D",
    //     style: "1",
    //     studies: [
    //         "MAExp@tv-basicstudies",
    //         "MASimple@tv-basicstudies",
    //     ],
    // },
];

for (sym of symbols) {
    createChart(sym);
}

function createChart(symobj) {
    const sym = symobj.sym;
    const use_log = symobj.use_log;
    const defalut = {
        "container_id": sym,
        "autosize": true,
        "symbol": sym,
        "interval": "D",
        "style": "2",
        // https://github.com/serdimoa/charting/wiki/Widget-Constructor
        "overrides": {"mainSeriesProperties.priceAxisProperties.log": use_log},
        "range": "ALL",
        "hide_top_toolbar": true,
        "theme": "light",
    }
    const options = Object.assign(defalut, symobj)
    return new TradingView.widget(options);
}
</script>
</html>

