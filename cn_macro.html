<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>China Macro Environment</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
    <!-- <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous"> -->
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <style>
        hr {margin: 0;}
        iframe {border: 1px solid #dedede; float: left;}
    </style>
</head>

<body style="padding:5px 5%">
    <!-- 主要市场风险评估 -->
    <iframe width="100%" height="370" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/3270.embed?showlink=false"></iframe>
    <!-- 全市场估值 -->
    <iframe width="100%" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/3146.embed?showlink=false"></iframe>
    <!-- 央行公开业务，先宏观，再市场 -->
    <iframe width="100%" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/897.embed?showlink=false"></iframe>
    <!-- A股资金流向 -->
    <iframe width="100%" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/899.embed?showlink=false"></iframe>
    <!-- 市场宽度 -->
    <iframe width="100%" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/901.embed?showlink=false"></iframe>
    <!-- 行业宽度 -->
    <iframe width="100%" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~dengwanc/1085.embed?showlink=false"></iframe>
    <!-- 人民币汇率 -->
    <iframe width="49.84%" height="500" src="https://app.koyfin.com/share/3e20b5c0dd/simple" frameBorder="0"></iframe>
    <!-- 500/300 -->
    <div id="SSE:000905/SSE:000300" style="width: 49.84%; height: 500px; float: left;"></div>
</body>

<script type="text/javascript">
const symbols = [
    // {
    //     sym: "USDHKD",
    //     range: "360M",
    //     // use_log: true,
    //     interval: "W",
    // },
    // {
    //     sym: "INDEX:BDI",
    //     range: "180M",
    //     use_log: true,
    //     interval: "W",
    // },
    {
        sym: "SSE:000905/SSE:000300",
        range: "480M",
        interval: "W",
    },
];

for (sym of symbols) {
    createChart(sym);
}

function createChart(symobj) {
    const sym = symobj.sym;
    const range = symobj.range || 'ALL';
    const axis_use_log = symobj.use_log;
    const options = {
        "container_id": sym,
        "autosize": true,
        "symbol": sym,
        "interval": symobj.interval || "W",
        "style": "2",
        "overrides": {"mainSeriesProperties.priceAxisProperties.log": axis_use_log},
        "range": range,
        "hide_top_toolbar": true,
        "studies": symobj.studies || [],
    };
    return new TradingView.widget(options);
}
</script>
</html>